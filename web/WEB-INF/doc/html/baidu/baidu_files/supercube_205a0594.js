F._setMod("pack");
F._fileMap({
    "/js/supercube_bee2c496.js": ["config", "start/js_start", "base/lib", "conf/conf_init", "base/template", "base/tpl_explain", "mngr/content_service", "mngr/data_model", "mods/hithot_newlabel", "mngr/layout_mngr", "log/pack_all"],
    "/css/supercube_21342e12.css": ["common.css", "mod.css", "component.css", "skin_opacity.css"],
    "/js/cubemngr_cda14b2c.js": ["common/tween", "common/fx", "mngr/act_process", "mods/repeater_act", "mods/basic", "mngr/service", "mngr/model", "mngr/presenter", "mngr/view_stub", "mngr/log", "mngr/view", "mngr/addlayer", "common/tangram_drag", "mngr/layout_drag", "mods/new_weather", "mods/hithot", "mods/sport", "mods/lottery", "mods/xingzuo", "mods_extend/baidu_fm_music_log", "mods/baidu_fm", "fmplaycore/play_engine", "mods_extend/baidu_fm_channel_panel", "mods_extend/baidu_fm_player", "mods/baidu_fm_line", "mods/basketball", "common/animate"],
    "/css/cubemngr_e2112fa8.css": ["manager.css", "layout_drag.css"],
    "/css/cubetpl_2e873eba.css": ["c_hotlink.css", "c_repeater.css", "tpl_new_weather.css", "tpl_hithot.css", "tpl_sport.css", "tpl_lottery.css", "tpl_xingzuo.css", "tpl_baidu_fm.css", "tpl_baidu_fm_line.css", "tpl_individual.css"],
    "/js/cubetpl_4e91e5d2.js": ["controls/hotlink", "controls/repeater", "tpl/new_weather", "tpl/hithot", "tpl/sport", "tpl/lottery", "tpl/xingzuo", "mods_extend/baidu_fm_mod_extend", "tpl/baidu_fm", "tpl/baidu_fm_line", "tpl/basketball", "tpl/individual", "page/pack_guide", "log/guide_log"],
    "/js/treasure_daf6c691.js": ["ur/treasure_animation", "ur/treasure_event", "ur/treasure_index", "ur/treasure_interface", "ur/treasure_node", "ur/treasure_tpl"],
    "/js/menu_d6cb3012.js": ["mngr/menu", "mngr/menu_tip"],
    "/css/menu_eeb8788c.css": ["menu.css", "menu_tip.css"],
    "/css/treasure_bfc8dfc1.css": ["treasure.css"],
    "/js/cubelog_extend_5b5e98c6.js": ["mngr/log_extend", "mngr/individual_log"],
    "/js/weather_city_18be7429.js": ["mods/weather_city"],
    "/css/new_weather_set_dc322c40.css": ["tpl_new_weather_setting.css"],
    "/js/new_weather_set_146d17fe.js": ["mods/new_weather_setting"],
    "/css/hithot_sug_bd58f8a9.css": ["tpl_hithot_sug.css", "idio.css"],
    "/js/hithot_sug_58763d47.js": ["mods/hithot_sug", "mods/hithot_sug_job", "mods/hithot_ext", "mods/hithot_idio"],
    "/css/cube_guide_c55a71fe.css": ["rec_guide.css"],
    "/js/cube_rec_guide_80638798.js": ["page/pack_view", "page/pack_rec_guide"],
    "/js/cube_tip_guide_0b00ae92.js": ["common/pk_tip"],
    "/js/cube_addbaidu_guide_1829672e.js": ["page/pack_add_tobaidu_guide"],
    "/css/cube_addbaidu_guide_ee7f6889.css": ["add_guide.css"],
    "/css/cube_close_guide_e710e288.css": ["pk_tip.css"],
    "/js/fmstatic_01_e725cd9f.js": ["data/fm_songs_private"],
    "/js/fmstatic_02_0459c956.js": ["data/fm_songs_public_tuijian_suibiantingting"],
    "/js/fmstatic_03_8494fc56.js": ["data/fm_songs_public_shiguang_jingdianlaoge"],
    "/js/fmstatic_04_64ea3799.js": ["data/fm_songs_public_tuijian_wangluo"],
    "/js/fmstatic_05_f42537e5.js": ["data/fm_songs_public_tuijian_ktv"],
    "/js/fmstatic_06_201dece8.js": ["data/fm_songs_public_tuijian_rege"],
    "/js/fmstatic_07_446c4d6f.js": ["data/fm_songs_public_tuijian_chengmingqu"],
    "/js/fmstatic_08_62e0b6d1.js": ["data/fm_songs_public_shiguang_80hou"],
    "/js/fmstatic_09_865da085.js": ["data/fm_songs_public_fengge_liuxing"],
    "/js/fmstatic_10_c840a243.js": ["data/fm_songs_public_fengge_qingyinyue"],
    "/js/fmstatic_11_874795a8.js": ["data/fm_songs_public_fengge_dj"],
    "/js/fmstatic_12_2520ad14.js": ["data/fm_songs_public_yuzhong_oumei"],
    "/js/fmstatic_13_30419547.js": ["data/fm_songs_public_xinqing_shanggan"],
    "/js/fmstatic_14_86a8117a.js": ["data/fm_songs_public_xinqing_huankuai"],
    "/js/fmstatic_15_9561864f.js": ["data/fm_songs_public_xinqing_qingge"],
    "/js/fmstatic_16_a174aaa3.js": ["data/fm_songs_public_shiguang_90hou"],
    "/js/fmstatic_17_67c1d05c.js": ["data/fm_songs_public_xinqing_shuhuan"],
    "/js/fmstatic_18_f3ab27ed.js": ["data/fm_songs_public_shiguang_xinge"],
    "/js/fmstatic_19_b560314b.js": ["data/fm_songs_public_xinqing_yonglanwuhou"],
    "/js/fmstatic_20_67d7ddca.js": ["data/fm_songs_public_xinqing_tianmi"],
    "/js/fmstatic_21_c3aa79b8.js": ["data/fm_songs_public_yuzhong_huayu"],
    "/js/fmstatic_22_40e23689.js": ["data/fm_songs_public_xinqing_jimo"],
    "/js/fmstatic_23_122d6f9e.js": ["data/fm_songs_public_fengge_zhongguofeng"],
    "/js/fmstatic_24_021bc454.js": ["data/fm_songs_public_shiguang_70hou"],
    "/js/fmstatic_25_62c04f29.js": ["data/fm_songs_public_tuijian_kaiche"],
    "/js/fmstatic_26_e2eb100a.js": ["data/fm_songs_public_tuijian_billboard"],
    "/js/fmstatic_27_f34f226d.js": ["data/fm_songs_public_fengge_xiaoqingxin"],
    "/js/fmstatic_28_f53da10a.js": ["data/fm_songs_public_fengge_minyao"],
    "/js/fmstatic_29_0fab22a3.js": ["data/fm_songs_public_shiguang_yedian"],
    "/js/fmstatic_30_74637b86.js": ["data/fm_songs_lovesongs"]
});
F._defService("pack", {
    start: "start/js_start",
    menu: "mngr/menu",
    entguide: "page/pack_guide",
    hithotLS: "mods/hithot_newlabel",
    animate: "common/animate",
    view: "mngr/view",
    layout: "mngr/layout_mngr",
    hotidio: "mods/hithot_idio"
});
F._firstScreenCSS = F._firstScreenCSS || [];
F._firstScreenCSS.push("/css/supercube_21342e12.css");
F.module("pack:start/js_start", function (l, w, s) {
    l("common.css");
    l("component.css");
    l("superpage:common/strpx");
    var g = s.base, h = l("base/lib"), q = l("conf/conf_init"), v = l("base/template"), d = l("base/tpl_explain"), n = l("mngr/content_service"), t = l("mngr/data_model").Data;
    var o = {
        mod: "s-pk-mod",
        notify: "s-notify-pnl",
        verSwitcher: "ver-switcher",
        col: "s-pk-col",
        content: "pk-content",
        title: "pk-title",
        tab: "pk-title-tab"
    };
    var f = null, u = false, r = null;
    w.initPackMod = function (z) {
        if (!r) {
            F.getService("nav", "nav", function () {
            });
            var y = (function (A) {
                return [function (B) {
                    var C = [];
                    if (!u) {
                        u = true;
                        g.each(A, function (D) {
                            C.push("mods/" + D)
                        })
                    }
                    if (C.length > 0) {
                        s.use(C, B)
                    } else {
                        B && B()
                    }
                }, function (B) {
                    F.getService("nav", "nav", B)
                }, function (B) {
                    s.use("mngr/view", B)
                }]
            })(q.getAllTpl());
            new h.Task(y).run(function () {
                s.use("mngr/view", function (A) {
                    r = A.getView(g.g("s_modules"));
                    z && z(r)
                })
            })
        } else {
            z && z(r)
        }
    };
    w.run = function () {
        s.use("log/pack_all", function (E) {
            E.init()
        });
        var A = g.g("s_modules"), z = g.g(A).getElementsByTagName("textarea"), C = (z.length > 0 ? z[z.length - 1] : null);
        f = A;
        if (C && g.trim(C.innerHTML)) {
            var B = g.json.parse(C.innerHTML);
            B && t.init(B)
        }
        g.on(A, "mouseover", function () {
            w.initPackMod()
        });
        g.on(A, "click", function (E) {
            E = E || window.event;
            w.initPackMod(function (G) {
                G.processClick(E)
            })
        });
        var y = new k(A), D = y.firstBatch(g.q(o.notify, A)[0]);
        if (D) {
            b(D)
        }
        if (y.leftCount() > 0) {
            m = true;
            g.each(["resize", "scroll", "load"], function (E) {
                g.on(window, E, w.lazyLoad)
            })
        } else {
            j = true
        }
        if (!j) {
            w.lazyLoad()
        }
        F.getService("nav", "navShow", function (E) {
            E.proceDelNav(i)
        });
        F.getService("superpage", "news", function (E) {
            E.proceDelHot(i)
        })
    };
    var c = "done", e = {}, j = false, m = false;
    w.lazyLoad = function () {
        if (c != "done" || j) {
            return
        }
        var y = new k(f, function (B) {
            var C = g.getAttr(B, "data-pkid"), A = t.get(C);
            return !e[C] && A && !A.content
        }), z = y.next(6);
        if (z) {
            F.getService("superpage", "lzload", function (C) {
                var D = false, B = [];
                while (z) {
                    D = false;
                    g.each(z, function (E) {
                        if (E) {
                            if (C.isVisible(E, true)) {
                                D = true;
                                B.push(E)
                            }
                        }
                    });
                    if (!D && (B.length > 0)) {
                        break
                    }
                    z = y.next(6)
                }
                if (B.length > 0) {
                    c = "ing";
                    var A = y.next(2);
                    if (A) {
                        B = B.concat(A)
                    }
                    b(B);
                    c = "done"
                }
            })
        } else {
            j = true;
            if (m) {
                g.each(["resize", "scroll", "load"], function (A) {
                    g.un(window, A, w.lazyLoad)
                })
            }
            m = false
        }
    };
    function b(z, E) {
        var G = [], y = [];
        for (var C = z.length - 1; C >= 0; C--) {
            var I = z[C], A = g.getAttr(I, "data-pkid"), H = t.get(A), B = (H ? q.getPackTpl(A, H.type) : "");
            if (B) {
                y.unshift(A);
                G.unshift("tpl/" + B);
                e[A] = true
            } else {
                z.splice(C, 1)
            }
        }
        if (y.length > 0) {
            var D = (function (J, K) {
                return [function (L) {
                    s.use(J, function () {
                        var M = [];
                        g.each(arguments, function (O, N) {
                            O.Template.name = J[N];
                            M.push(O)
                        });
                        L(M)
                    })
                }, function (L) {
                    n.query(K.join(","), L)
                }]
            })(G, y);
            new h.Task(D, {doms: z, idList: y, tplList: G}).run(function (J) {
                g.each(J.ctx.idList, function (N, K) {
                    delete e[N];
                    var M = J.args[0][K].Template, L = J.args[1].data[N + ""], O = J.ctx.doms[K];
                    if (N == 30) {
                        if (L && L.content && L.content.words) {
                            L.content.words = L.content.words.hotWords
                        }
                    }
                    L = a(L);
                    t.setContent(N, L);
                    M.ctx.id = N;
                    x(M, L, O, function () {
                        if (!s_session.userTips.isNewVersion) {
                            return
                        }
                    })
                });
                E && E()
            })
        }
    }

    function a(z) {
        if (z && z.curtab == 1) {
            var y = {};
            y.curtab = "1";
            y.tabcontent = {};
            y.tabcontent.data = [];
            y.tabcontent.data.push(z.tabcontent.data[1]);
            y.tabcontent.data.push(z.content);
            y.tabcontent.tags = z.tabcontent.tags;
            y.content = z.tabcontent.data[1];
            return y
        } else {
            return z
        }
    }

    var k = function (y, G) {
        var C = this, B = g.q(o.col, y), z = [], A = [], D = 0;
        g.each(B, function (J) {
            var I = g.q(o.mod, J), H = I;
            if (G) {
                H = [];
                g.each(I, function (K) {
                    if (G(K)) {
                        H.push(K)
                    }
                })
            }
            if (H.length > 0) {
                z.push(H)
            }
        });
        function E(M, I) {
            M = M || 1;
            var H = [], L = D, J = [];
            while (H.length < M && (L < z.length) && (z.length > 0)) {
                var K = z[L];
                if (I) {
                    H.push(K.shift())
                } else {
                    if (J[L] == null) {
                        J[L] = 0
                    }
                    H.push(K[J[L]++])
                }
                if (K.length == 0) {
                    z.splice(L, 1);
                    if (I) {
                        J.splice(L, 1)
                    }
                } else {
                    L++
                }
                if (L >= z.length) {
                    L = 0
                }
            }
            D = L;
            return (H.length > 0 ? H : null)
        }

        C.next = function (H) {
            return E(H, true)
        };
        C.peak = function (H) {
            return E(H, false)
        };
        C.leftCount = function () {
            var H = 0;
            g.each(z, function (I) {
                H += I.length
            });
            return H
        };
        C.firstBatch = function (I) {
            var H = [];
            if (I) {
                H = g.q(o.mod, I)
            }
            var J = C.next(8);
            if (J) {
                H = H.concat(J)
            }
            return H
        }
    };

    function x(z, C, D, A) {
        if (!z) {
            return
        }
        var y = g.q(o.content, D)[0];
        var B = v.parse(z);
        if (C && C.content) {
            d.render(B, C, function (G) {
                y.innerHTML = G[0];
                if (G[1] != "") {
                    g.q(o.tab, D)[0].innerHTML = G[1];
                    p(C.curtab, g.q(o.tab, D)[0])
                }
                B.init(y, C);
                if (r) {
                    var E = r.getPackInstance(B.define.ctx.id);
                    E && E.onLoad()
                }
                A && A()
            })
        } else {
            g.g(y).innerHTML = "<div class='pk-err'>内容加载出错，<a href='/' class='err-refresh'>刷新试试</a></div>";
            B.onError(y, C);
            A && A()
        }
    }

    function p(A, y) {
        if (A == 1) {
            y.style.dislay = "none";
            var B = g.q("tab-0", y)[0], z = g.q("tab-1", y)[0];
            B.className = "tab-1 tab-a";
            g.setAttr(B, "data-pos", "1");
            z.className = "tab-0 tab-a";
            g.setAttr(z, "data-pos", "0");
            y.style.dislay = ""
        }
    }

    function i(y) {
        var C = y.id, A = null, B = "", z = null;
        if (C == 2400) {
            z = g.g("s_mod_nav");
            B = "我的导航";
            A = function () {
                F.getService("nav", "navShow", function (D) {
                    D.onDeleteEnd()
                })
            }
        } else {
            if (C == 30) {
                z = g.g("s_mod_topsearch");
                B = "新闻";
                A = function () {
                    F.getService("superpage", "news", function (D) {
                        D.onDeleteEnd()
                    })
                }
            } else {
                if (C == 10000 || C == 10001) {
                    z = g.g("s_mod_msg");
                    B = "消息"
                }
            }
        }
        s.use("mngr/act_process", function (D) {
            D.processModClose({modInfo: {id: C, type: B, entity: z}}, {
                hide: (C != 10000 && C != 10001) ? true : false,
                notfade: (C == 2400 || C == 30) ? true : false,
                onEnd: function () {
                    w.initPackMod(function (E) {
                        E.closeMod(C)
                    });
                    A && A()
                }
            })
        })
    }

    w.deleteMod = i
});
F.module("pack:base/lib", function (d, g, l) {
    var f = l.base, h = d("superpage:common/strpx").Strpx, j = new h("normal 12px arial,\5b8b\4f53,sans-serif"), i = new h("normal 14px arial,\5b8b\4f53,sans-serif");

    function b(q, o) {
        if (o && (o.indexOf(".") > 0)) {
            var n = o.split("."), p = q;
            f.each(n, function (r) {
                p = p[r];
                if (!p) {
                    return false
                }
            });
            return p
        }
        return q[o]
    }

    function m(q, n, p) {
        p = p || "";
        q = String(q);
        var o = Array.prototype.slice.call(arguments, 1), r = Object.prototype.toString;
        if (o.length) {
            if (o.length > 1) {
                o = [o[0]]
            }
            o = o.length == 1 ? (n !== null && (/\[object Array\]|\[object Object\]/.test(r.call(n))) ? n : o) : o;
            return q.replace(new RegExp("#\\{" + p + "(.+?)\\}", "g"), function (s, u) {
                var t = o[u];
                if ("[object Function]" == r.call(t)) {
                    t = t(u)
                } else {
                    t = b(o, u)
                }
                return ("undefined" == typeof t ? "" : t)
            })
        }
        return q
    }

    g.base = {
        injectCss: function (o, n) {
            return m(o, n, "css_")
        }, format: function (o, n) {
            return m(o, n)
        }, substrBy12px: function (o, n, p) {
            if (j) {
                return j.substringByPx(o, n, p || "...")
            } else {
                return new h("normal 12px arial,\5b8b\4f53,sans-serif").substringByPx(o, n, p || "...")
            }
        }, substrBy14px: function (o, n, p) {
            if (i) {
                return i.substringByPx(o, n, p || "...")
            } else {
                return new h("normal 14px arial,\5b8b\4f53,sans-serif").substringByPx(o, n, p || "...")
            }
        }, getLengthBy12Px: function (o, n, p) {
            return j.getLengthPx(o)
        }
    };
    var e = new (function (p) {
        var o = this, n = [], r = 0, q = p;
        o.push = function (s) {
            n.push(s);
            o.start()
        };
        o.start = function () {
            if (r < q && (n.length > 0)) {
                r += 1;
                var s = n.shift();
                s._run(function () {
                    r -= 1;
                    setTimeout(function () {
                        o.start()
                    }, 5)
                })
            }
        }
    })(3);
    g.Task = function (p, q) {
        var s = this, o = [], t = 0, r = p.length, n = null;
        s._run = function (u) {
            f.each(p, function (v, w) {
                o.push(null);
                v(function (x) {
                    o[w] = x;
                    t++;
                    if (t >= r) {
                        u && u(x);
                        n && n({args: o, ctx: q || null})
                    }
                })
            })
        };
        s.run = function (u) {
            n = u;
            e.push(s)
        }
    };
    var c = function () {
    };
    var k = 0;

    function a(n) {
        return n + (++k)
    }

    g.Control = {
        prefix: "cs_c_", baseClass: f.Class.create(function () {
            var o = {}, p = {}, n = a(g.Control.prefix);
            this.setId = function (q) {
                n = g.Control.prefix + q
            };
            this.getId = function () {
                return n
            };
            this.setData = function (q, r) {
                o[q] = r
            };
            this.getData = function (q) {
                return o[q]
            };
            this.setAttr = function (q, r) {
                p[q] = r
            };
            this.getAttr = function (q) {
                return p[q]
            };
            this.render = c;
            this.init = c
        }), define: function (n) {
            return f.Class.create(n, g.Control.baseClass)
        }
    };
    g.Template = {
        define: function (n) {
            n.ctx = {};
            n.controls = {};
            n._clist = [];
            n.addControl = function (o) {
                this.controls[o.getId()] = o;
                n._clist.push(o.getId())
            };
            n.getControl = function (o) {
                if (T.lang.isNumber(o)) {
                    return this.controls[this._clist[o]]
                } else {
                    return this.controls[g.Control.prefix + o]
                }
            };
            n._init = function (p, o) {
                var q = this;
                f.each(q._clist, function (r) {
                    q.controls[r].init()
                });
                q.init(p, o)
            };
            n._onErr = function (p, o) {
                this.onError && this.onError(p, o)
            };
            return n
        }
    }
});
F.module("pack:conf/conf_init", function (c, b, a) {
    var e = a.base;
    var d = {
        ids: {},
        types: {
            "彩票": "lottery",
            "新闻": "hithot",
            "星座": "xingzuo",
            "足球": "sport",
            "篮球": "basketball",
            "天气": "new_weather",
            "音乐": (s_session.userTips.isNewVersion) ? "baidu_fm" : "baidu_fm_line"
        }
    };
    b.getPackTpl = function (h, g) {
        var f = d.ids[h + ""];
        if (!f) {
            f = d.types[g + ""]
        }
        return f
    };
    b.getAllTpl = function () {
        var f = [];
        e.object.each(d.ids, function (g) {
            f.push(g)
        });
        e.object.each(d.types, function (g) {
            f.push(g)
        });
        return f
    };
    b.getAllPacks = function () {
        var f = [], h = d.ids;
        for (var g in h) {
            if (h.hasOwnProperty(g)) {
                f.push(g)
            }
        }
        return f
    }
});
F.module("pack:base/template", function (c, b, a) {
    var d = a.base;
    b.parse = function (h) {
        h.tabTpl = h.tabTpl || "";
        var q = [h.tpl, h.tabTpl], o = /<c:([_a-zA-Z0-9]+)(\b(?:"[^"]*"|'[^']*'|[^'"\/>])*)?(?:\/>|>([\s\S]*?)<\/c:\1>)/ig, n = [h.tpl, h.tabTpl], g = [];
        var m = new f();
        for (var k = 0, p = q.length; k < p; k++) {
            g[k] = [];
            var l = o.exec(q[k]);
            while (l) {
                var j = m.build(l);
                n[k] = n[k].replace(l[0], "#{" + j.key + "}");
                g[k].push(j);
                l = o.exec(q[k])
            }
        }
        return new e(n, g, h)
    };
    function f() {
        var g = 0;
        this.build = function (h) {
            var l = [], k = "", i = h.length;
            if (i > 2) {
                if (h[2]) {
                    var m = h[2], n = /([_a-zA-Z0-9]+)(?:\s)?=(?:\s)?(\S+)/ig, j = n.exec(m);
                    while (j) {
                        l.push({name: j[1], attr: j[2]});
                        j = n.exec(m)
                    }
                }
                if (i > 3 && h[3]) {
                    k = h[3]
                }
            }
            return {key: "__ts" + (++g), name: h[1], args: l, tpl: k}
        }
    }

    function e(h, g, i) {
        this.tpl = h;
        this.symbols = g;
        this.define = i;
        this.init = function (k, j) {
            i._init(k, j)
        };
        this.onError = function (k, j) {
            i._onErr(k, j)
        }
    }
});
F.module("pack:base/tpl_explain", function (c, e, i) {
    var d = i.base, a = c("base/lib").base;
    e.render = function (k, l, j) {
        g(k, function () {
            j(h(k, l, arguments))
        })
    };
    function g(o, n) {
        var l = o.symbols, k = [];
        if (l) {
            for (var m = 0, j = l.length; m < j; m++) {
                if (l[m].length > 0) {
                    d.each(l[m], function (p) {
                        k.push(f(p))
                    })
                }
            }
        }
        if (k.length > 0) {
            i.use(k, n)
        } else {
            n && n()
        }
    }

    function f(j) {
        return "controls/" + j.name
    }

    function h(s, q, u) {
        var m = s.symbols, r = s.define, v = q.content, w = q.tabcontent || {}, l = "", p = [d.extend(d.extend({}, v), s.define.renderData(v)), d.extend(d.extend({}, w))];
        if (m) {
            for (var o = 0, n = 0, t = m.length; o < t; o++) {
                d.each(m[o], function (x, j) {
                    var k = b(u[n].Class, x, p[o]);
                    p[o][x.key] = k.render();
                    r.addControl(k);
                    n++
                })
            }
        }
        if (s.tpl[1] != "") {
            l = a.format(s.tpl[1], p[1])
        }
        return [a.format(s.tpl[0], p[0]), l]
    }

    function b(m, l, k) {
        var j = new m(l.tpl);
        d.each(l.args, function (n) {
            if (n.name == "id") {
                j.setId(n.attr)
            } else {
                if (n.name.indexOf("_") == 0) {
                    j.setAttr(n.name.substr(1), n.attr)
                } else {
                    j.setData(n.name, k[n.attr])
                }
            }
        });
        return j
    }

    e.prepare = g
});
F.module("pack:mngr/content_service", function (d, c, b) {
    var e = b.base;
    var f = s_domain.baseuri + "/pack/data/content?id=#{id}";
    var g;
    c.query = function (k, h) {
        var j = [];
        var l = 1;
        var i = false;
        var m = new RegExp(",2402,");
        if (m.test("," + k + ",")) {
            i = true;
            l = 2;
            k = "," + k + ",";
            k = k.replace(m, ",");
            k = k.replace(/^,/g, "").replace(/,$/g, "");
            if (k == "") {
                l--
            }
        }
        if (k != "") {
            e.ajax.get(e.format(f, {id: k}) + "&asyn=1&t=" + Math.random(), function (n) {
                var o = n || {};
                if (!o.data) {
                    new Image().src = s_domain.baseuri + "/page/data/pageserver?errno=2012&url=" + encodeURIComponent(e.format(f, {id: k}))
                }
                if (o.errNo == 4004) {
                    o.content = {}
                }
                j.push(o);
                if (j.length == l) {
                    a(j, h)
                }
            })
        }
        if (i) {
            g = new Date();
            F.getService("superpage", "localstorage", function (n) {
                var o = "_" + s_session.portrait + "_";
                var r, q, p = 50;
                if (!n || !n.ls) {
                    return
                }
                n.ls.get(o + "fm_cl", function (s, t) {
                    if (s == 0 && t && t != "") {
                        r = t
                    } else {
                        r = "public_tuijian_suibiantingting"
                    }
                    n.ls.get(o + "fm_cl_name", function (u, v) {
                        if (u == 0 && v && v != "") {
                            q = v
                        } else {
                            q = "随便听听"
                        }
                        n.ls.get(o + "fm_cl_dv", function (w, y) {
                            if (w == 0 && y != null && y != undefined && y != "") {
                                p = y
                            }
                            var z = {};
                            if (r == "lovesongs") {
                                z = {data: {"2402": {content: {list: [], id: "lovesongs", name: "红心频道", volume: p}}}};
                                j.push(z);
                                if (j.length == l) {
                                    a(j, h)
                                }
                            } else {
                                var x = "data/fm_songs_" + r;
                                b.use(x, function (A) {
                                    z = {
                                        data: {
                                            "2402": {
                                                content: {
                                                    list: A.data.list,
                                                    id: A.data.id,
                                                    name: q,
                                                    volume: p
                                                }
                                            }
                                        }
                                    };
                                    j.push(z);
                                    if (j.length == l) {
                                        a(j, h)
                                    }
                                })
                            }
                        })
                    })
                })
            })
        }
    };
    var a = function (k, h) {
        for (var j = 0; j < 2; j++) {
            if (!k[j] || typeof(k[j].data) != "object") {
                k[j] = {errNo: "0", data: {}}
            }
        }
        e.object.extend(k[0].data, k[1].data);
        h && h(k[0])
    }
});
F.module("pack:mngr/data_model", function (d, b, a) {
    var e = a.base;
    var c = new e.UIM.Model({
        add: function (g, f) {
            f && f({errNo: 0, data: g})
        }, update: function (g, f) {
            f && f({errNo: 0, data: g})
        }, hasUpdatedProp: function () {
            return false
        }, remove: function (g, f) {
            f && f({errNo: 0})
        }
    });
    c.setContent = function (i, f) {
        var g = this, h = g.get(i);
        if (h && f) {
            h.content = f;
            if (h.content.tabcontent) {
                h.content.tabcontent.data[0] = h.content.content
            }
            g.update(h)
        }
    };
    b.Data = c
});
F.module("pack:mods/hithot_newlabel", function (h, r, o) {
    var c = o.base, e = "hithot_" + s_session.portrait + "_word", d = 10, a = [], f = [], m = "@+&+@", l = {
        viewed: "viewed",
        unview: "unview",
        oldver: "s-topsearch-item",
        newver: "hithot-word"
    };
    for (var p = 0; p < 60; p++) {
        a.push(false)
    }
    function g(i, t, u) {
        if (u.indexOf("&") < 0) {
            u = c.string.encodeHTML(u)
        }
        j({dom: t, key: u}, function (w) {
            if (w < 0) {
                var v = s();
                (v >= 0) && b(v, u, function () {
                    a[v] = true;
                    k(t, l.viewed);
                    var x = c.dom.q("nlabel", t);
                    x && c.hide(x[0])
                })
            }
        })
    }

    function n(u, t) {
        if (u) {
            for (var i = u.length - 1; i >= 0; i--) {
                j(u[i], function (v, w) {
                    if (v >= 0) {
                        a[v] = true;
                        t && t(v, w);
                        k(w, l.viewed);
                        if (u[i]) {
                            u[i].viewed = true
                        }
                    } else {
                        t && t(-1, w);
                        k(w, l.unview);
                        if (u[i]) {
                            u[i].viewed = false
                        }
                    }
                })
            }
        }
    }

    function s() {
        for (var t = a.length - 1; t >= 0; t--) {
            if (!a[t]) {
                return t
            }
        }
    }

    function j(t, i) {
        F.getService("superpage", "localstorage", function (u) {
            if (!u || !u.ls) {
                return
            }
            var v = u.ls;
            v.get(e, function (w, x) {
                if (w == 0 && x) {
                    f = x.split(m)
                }
                i && i(q(f, t.key), t.dom || t.entity)
            })
        })
    }

    function q(u, v) {
        if (u && v) {
            if (v.indexOf("&") < 0) {
                v = c.string.encodeHTML(v)
            }
            for (var t = u.length - 1; t >= 0; t--) {
                if (u[t] == v) {
                    return t
                }
            }
        }
        return -1
    }

    function b(i, u, t) {
        F.getService("superpage", "localstorage", function (v) {
            if (!v) {
                return
            }
            var w = v.ls;
            f[i] = u;
            w.set(e, f.join(m), function () {
                t && t()
            })
        })
    }

    function k(t, i) {
        if (t && !c.hasClass(t, i)) {
            if (c.hasClass(t, l.newver)) {
                t.className = l.newver + " " + i
            } else {
                t.className = l.oldver + " " + i
            }
        }
    }

    c.hasClass = function (v, u) {
        v = c.g(v);
        var i = baidu.string.trim(u).split(/\s+/), t = i.length;
        u = v.className.split(/\s+/).join(" ");
        while (t--) {
            if (!(new RegExp("(^| )" + i[t] + "( |\x24)")).test(u)) {
                return false
            }
        }
        return true
    };
    r.initHitHotNewLabel = n;
    r.setLocalStorageOnHover = g
});
F.module("pack:mngr/layout_mngr", function (a, d, i) {
    var b = i.base;
    var e = null, h = {
        col: "|",
        item: ",",
        attr: "_",
        colSep: "+"
    }, c = s_session.userTips.isNewVersion, f = ["id", "height"];
    var g = function () {
        var m = this, o = [];
        m.inited = false;
        m.getLayout = function () {
            return o
        };
        m.init = function (p) {
            p = p || {};
            p.cols = p.cols || 0;
            if (o.length == 0) {
                while (o.length < p.cols) {
                    o.push([])
                }
            }
            m.inited = true
        };
        m.append = function (s) {
            var p = 0, r = Infinity;
            b.each(o, function (t, u) {
                if (t.length < r) {
                    p = u;
                    r = t.length;
                    if (t.length == 0) {
                        return false
                    }
                }
            });
            var q = {};
            b.each(f, function (t) {
                q[t] = s[t]
            });
            if (o.length == p) {
                o.push([])
            }
            o[p].push(q);
            (!c) && (p++);
            return p
        };
        m.remove = function (q) {
            var p = l(q);
            if (p) {
                o[p.col].splice(p.idx, 1)
            }
        };
        m.update = function (r) {
            if (!r.id) {
                return
            }
            var q = l(r.id);
            if (q) {
                var p = o[q.col][q.idx];
                b.each(f, function (s) {
                    var t = r[s];
                    if (typeof t != "undefined") {
                        p[s] = r[s]
                    }
                })
            }
        };
        m.rebuild = function (q, r) {
            (!c) && (q.length == 3) && (q.shift());
            o = [];
            var p = null;
            b.each(q, function (s) {
                p = [];
                b.each(s, function (t) {
                    p.push((r ? r(t) : t))
                });
                o.push(p)
            })
        };
        m.equal = function (p) {
            return k(p || []) == k(o)
        };
        m.serialize = function () {
            var q = [], p = h;
            b.each(o, function (r, s) {
                if (s > 0) {
                    q.push(p.colSep)
                }
                q.push(s + p.col);
                b.each(r, function (t, u) {
                    if (u > 0) {
                        q.push(p.item)
                    }
                    b.each(f, function (w, v) {
                        if (v > 0) {
                            q.push(p.attr)
                        }
                        var x = t[w];
                        q.push((typeof x != "undefined" ? x : ""))
                    })
                })
            });
            return q.join("")
        };
        m.deserialize = function (r) {
            o = [];
            if (!r) {
                return
            }
            var p = h, q = r.split(p.colSep);
            b.each(q, function (s) {
                var t = j(s);
                o[t.col * 1] = t.list
            })
        };
        function j(t) {
            if (!t) {
                return []
            }
            var p = h, s = {list: []}, q = t.split(p.col);
            s.col = q[0] * 1;
            if (q.length > 1) {
                var r = q[1].split(p.item);
                b.each(r, function (u) {
                    if (u) {
                        s.list.push(n(u))
                    }
                })
            }
            return s
        }

        function n(r) {
            var q = r.split(h.attr), p = q.length, s = {};
            b.each(f, function (t, u) {
                s[t] = (p > u ? q[u] : null)
            });
            return s
        }

        function l(r) {
            var p = -1, q = -1;
            b.each(o, function (s, t) {
                b.each(s, function (v, u) {
                    if (v.id == r) {
                        p = u;
                        return false
                    }
                });
                if (p >= 0) {
                    q = t;
                    return false
                }
            });
            return (p >= 0 ? {col: q, idx: p} : null)
        }

        function k(p) {
            var q = [];
            b.each(p, function (s) {
                var r = [];
                b.each(s, function (t) {
                    r.push(t.id)
                });
                q.push(r.join(","))
            });
            return q.join("+")
        }
    };
    if (!e) {
        e = new g()
    }
    d.getInstance = function () {
        return e
    }
});
F.module("pack:log/pack_all", function (c, b, a) {
    b.init = function () {
        F.addLog("pack:mngr", {
            widgetclick: "1300000001",
            addpnlclick: "0800900001",
            individualClick: "1300100001",
            btnMenuClick: "1800000001",
            menuTipShow: "1800100000",
            menuTipClick: "1800100001",
            skinShow: "3100000000",
            skinClick: "3100000001"
        });
        F.addLog("pack:tpl", {packclick: "1300100001", guideShown: "0000100000", weatherClick: "1300700001"});
        F.addLog("pack:mods", {
            newUserShow: "0200400000",
            newUserClick: "0200400001",
            newsShow: "0200700000",
            newsClick: "0200700001",
            guideShown: "0000100000",
            weatherClick: "1300700001"
        });
        F.addLog("pack:mods_extend", {baiduFmClick: "1300400001", baiduFmOperate: "1300400002"});
        F.addLog("pack:mods", ["newWeatherRefreshCount"]);
        F.addLog("pack:ur", {
            treasureboxentrance: "1800000001",
            treasureboxPageDisplay: "8000000000",
            treasureboxEventClick: "8000000001"
        })
    }
});